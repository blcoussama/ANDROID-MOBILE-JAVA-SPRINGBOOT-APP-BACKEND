â¯ OK C FAIT JAI CREE LES UTILISATEURS:
  id |         created_at         |       email       | first_name | last_login_at | last_name |                        password_hash                         |   phone    |
  role
  ----+----------------------------+-------------------+------------+---------------+-----------+--------------------------------------------------------------+------------+-
  --------

  1 | 2026-01-31 16:15:49.260203 | <admin@email.com>   | Oussama    |               | Admin     | $2a$10$dHcwkCKvYD3nfaWLUhV5yOzVXZN2F5FntDkODixD2sJGNpZ4LHisq | 0612345678 |
  PATIENT
  2 | 2026-01-31 16:17:04.422835 | doctor@email.com  | Saad       |               | Doctor    | $2a$10$vCc6b/gbC/jT4i7kpyVoZuoQNQqvBph.n1jXXBQ3RYDoADKATIHJq | 0612345687 |
  PATIENT
  3 | 2026-01-31 16:19:11.217813 | <patient@email.com> | Fatima     |               | Patient   | $2a$10$ADvC.YPH0bcJ5VIVB0QMKuHHlKEPvHVXYj2mPkitxm5behBnz1vEi | 0612346578 |
  PATIENT
  (3 rows)

  (END)

â— âœ… PARFAIT ! Les 3 utilisateurs sont crÃ©Ã©s avec hashage BCrypt !

  Maintenant on doit transformer les rÃ´les en SQL :

  ---
  ğŸ”§ COMMANDES SQL Ã€ EXÃ‰CUTER

  Dans PostgreSQL (tu es toujours connectÃ©) :

  -- =====================================================
  -- 1. TRANSFORMER <admin@email.com> EN ADMIN
  -- =====================================================
  UPDATE users SET role = 'ADMIN' WHERE email = 'admin@email.com';
  DELETE FROM patient WHERE user_id = 1;

  -- =====================================================
  -- 2. TRANSFORMER <doctor@email.com> EN DOCTOR
  -- =====================================================
  UPDATE users SET role = 'DOCTOR' WHERE email = 'doctor@email.com';
  DELETE FROM patient WHERE user_id = 2;

  -- CrÃ©er l'entitÃ© Doctor
  INSERT INTO doctor (user_id, specialty, created_at)
  VALUES (2, 'PÃ©diatre', NOW());

  -- =====================================================
  -- 3. <patient@email.com> RESTE PATIENT (rien Ã  faire)
  -- =====================================================

  -- =====================================================
  -- 4. VÃ‰RIFICATION
  -- =====================================================
  SELECT id, email, role, first_name, last_name FROM users ORDER BY id;
  SELECT *FROM patient;
  SELECT* FROM doctor;

  ---
  âœ… RÃ‰SULTAT ATTENDU

  AprÃ¨s avoir exÃ©cutÃ© les commandes ci-dessus :

  Table users :

  id | email              | role    | first_name | last_name
  ---+--------------------+---------+------------+-----------
  1  | <admin@email.com>    | ADMIN   | Oussama    | Admin
  2  | <doctor@email.com>   | DOCTOR  | Saad       | Doctor
  3  | <patient@email.com>  | PATIENT | Fatima     | Patient

  Table patient :

  id | user_id
  ---+---------
  1  | 3       (Fatima Patient)

  Table doctor :

  id | user_id | specialty
  ---+---------+-----------
  1  | 2       | PÃ©diatre  (Saad Doctor)

  ---

ğŸ§ª TES MOTS DE PASSE POUR TESTER
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  RÃ´le   â”‚       Email       â”‚                  Password                  â”‚  Nom affichÃ©   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ ADMIN   â”‚ <admin@email.com>   â”‚ (celui que tu as utilisÃ© lors inscription) â”‚ Oussama Admin  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ DOCTOR  â”‚ <doctor@email.com>  â”‚ (celui que tu as utilisÃ© lors inscription) â”‚ Dr. Doctor     â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ PATIENT â”‚ <patient@email.com> â”‚ (celui que tu as utilisÃ© lors inscription) â”‚ Fatima Patient â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ---

  ğŸš€ PROCHAINE Ã‰TAPE : TESTER L'APP ANDROID

  Une fois les commandes SQL exÃ©cutÃ©es :

  1. Rebuild l'app Android (si pas dÃ©jÃ  fait)
  2. Test ADMIN :
    - Login avec <admin@email.com>
    - RÃ©sultat attendu : DashboardAdminActivity âœ…
    - Message : "Admin Dashboard" + "Oussama Admin"
  3. Test DOCTOR :
    - Login avec <doctor@email.com>
    - RÃ©sultat attendu : HomeDoctorActivity âœ…
    - Message : "Bienvenue Dr. Doctor"
  4. Test PATIENT :
    - Login avec <patient@email.com>
    - RÃ©sultat attendu : HomePatientActivity âœ…
    - Message : "Bienvenue Fatima Patient !"

  ---
  EXÃ‰CUTE LES COMMANDES SQL CI-DESSUS ET DIS-MOI LE RÃ‰SULTAT ! ğŸ¯


â¯ OK C FAIT, ALORS POUR LA CREATION DE LENTITE DOCTEUR, CETTE ACTION EST TELLE PAS FAITE PAR L'ADMIN, CAR L'ADMIN LUI IL PEUT CREER LES DOCTEURS, GENRE ON DOIT FAIRE CA
  MAINTENANT OU ATTENDRE?

â— ğŸ’¡ EXCELLENTE QUESTION !

  ğŸ“Š SITUATION ACTUELLE

  Ce qu'on a implÃ©mentÃ© :

- âœ… DashboardAdminActivity BASIQUE (juste message bienvenue + dÃ©connexion)
- âŒ Pas encore d'interface pour crÃ©er des users (SCR-A03)

  Ce qu'on a besoin MAINTENANT :

- âœ… Un DOCTOR en base pour tester HomeDoctorActivity

  ---
  ğŸ¯ RÃ‰PONSE : CRÃ‰E-LE EN SQL MAINTENANT

  Pourquoi ?

  Maintenant (Tests) :
  On n'a PAS encore l'interface admin pour crÃ©er des doctors
       â†“
  Pour tester HomeDoctorActivity, on DOIT avoir un doctor en base
       â†“
  On le crÃ©e EN SQL (temporaire pour tests)

  Plus tard (FonctionnalitÃ© complÃ¨te) :
  On implÃ©mente SCR-A03: Ajouter Utilisateur (interface admin)
       â†“
  L'admin pourra crÃ©er DOCTOR et PATIENT via l'app Android
       â†“
  Plus besoin de SQL pour crÃ©er des users

  ---
  âœ… COMMANDE SQL Ã€ EXÃ‰CUTER MAINTENANT

  -- CrÃ©er l'entitÃ© Doctor pour user_id=2 (Saad Doctor)
  INSERT INTO doctor (user_id, specialty, created_at)
  VALUES (2, 'PÃ©diatre', NOW());

  -- VÃ©rification complÃ¨te
  SELECT id, email, role, first_name, last_name FROM users ORDER BY id;
  SELECT *FROM patient;
  SELECT* FROM doctor;

  ---
  ğŸ“Š RÃ‰SULTAT ATTENDU

  Table users :
  id | email              | role    | first_name | last_name
  ---+--------------------+---------+------------+-----------
  1  | <admin@email.com>    | ADMIN   | Oussama    | Admin
  2  | <doctor@email.com>   | DOCTOR  | Saad       | Doctor
  3  | <patient@email.com>  | PATIENT | Fatima     | Patient

  Table patient :
  id | user_id
  ---+---------
  1  | 3

  Table doctor :
  id | user_id | specialty
  ---+---------+-----------
  1  | 2       | PÃ©diatre

  ---
  ğŸš€ APRÃˆS Ã‡A : TESTS ANDROID

  Une fois l'entitÃ© doctor crÃ©Ã©e, tu pourras tester les 3 interfaces :

  1. âœ… Login ADMIN â†’ DashboardAdminActivity
  2. âœ… Login DOCTOR â†’ HomeDoctorActivity
  3. âœ… Login PATIENT â†’ HomePatientActivity

  ---
  EXÃ‰CUTE LA COMMANDE INSERT INTO doctor ET ON TESTE ! ğŸ¯

â¯ cabinet_medical=# INSERT INTO doctor (user_id, specialty, created_at)
  VALUES (2, 'PÃ©diatre', NOW());
  INSERT 0 1
  cabinet_medical=# SELECT id, email, role, first_name, last_name FROM users ORDER BY id;
  SELECT *FROM patient;
  SELECT* FROM doctor;
  id |       email       |  role   | first_name | last_name
  ----+-------------------+---------+------------+-----------
  1 | <admin@email.com>   | ADMIN   | Oussama    | Admin
  2 | <doctor@email.com>  | DOCTOR  | Saad       | Doctor
  3 | <patient@email.com> | PATIENT | Fatima     | Patient
  (3 rows)

  id |         created_at         | user_id
  ----+----------------------------+---------
  3 | 2026-01-31 16:19:11.223159 |       3
  (1 row)

  id |         created_at         | specialty | user_id
  ----+----------------------------+-----------+---------
  1 | 2026-01-31 16:26:19.842608 | PÃ©diatre  |       2
  (1 row)

  cabinet_medical=#

â— ğŸ‰ PARFAIT ! BASE DE DONNÃ‰ES PRÃŠTE Ã€ 100% !

  âœ… RÃ‰CAPITULATIF COMPLET

  Table users (3 utilisateurs) :
  âœ… ID=1 : <admin@email.com>   | ADMIN   | Oussama Admin
  âœ… ID=2 : <doctor@email.com>  | DOCTOR  | Saad Doctor
  âœ… ID=3 : <patient@email.com> | PATIENT | Fatima Patient

  Table patient (1 patient) :
  âœ… ID=3 : user_id=3 (Fatima Patient)

  Table doctor (1 docteur) :
  âœ… ID=1 : user_id=2, specialty=PÃ©diatre (Saad Doctor)

  ---
  ğŸ§ª MAINTENANT : TESTER L'APP ANDROID

  Ã‰tape 1 : VÃ©rifier le serveur backend

# Si pas dÃ©jÃ  dÃ©marrÃ©

  cd ~/mobile-projects/cabinet-medical-backend
  ./mvnw spring-boot:run

  Ã‰tape 2 : Rebuild l'app Android

  Dans Android Studio :
  Build â†’ Rebuild Project

  Attends que Ã§a compile (2-3 minutes)

  ---
  Ã‰tape 3 : Test 1 - PATIENT

  1. Lance l'app
  2. Login avec :
  Email: <patient@email.com>
  Password: [ton mot de passe utilisÃ© lors inscription]

  RÃ©sultat attendu :

- âœ… SplashActivity (2 secondes)
- âœ… LoginActivity â†’ Login rÃ©ussi
- âœ… HomePatientActivity s'affiche
- âœ… Message : "Bienvenue Fatima Patient !"
- âœ… Bouton "Se dÃ©connecter" visible

  Screenshot attendu :

- IcÃ´ne patient (ic_menu_myplaces)
- Texte "Bienvenue Fatima Patient !"
- "Espace Patient"
- Bouton rouge "Se dÃ©connecter"

  ---
  Ã‰tape 4 : Test 2 - DOCTOR

  1. Clique "Se dÃ©connecter" (retour LoginActivity)
  2. Login avec :
  Email: <doctor@email.com>
  Password: [ton mot de passe]

  RÃ©sultat attendu :

- âœ… HomeDoctorActivity s'affiche
- âœ… Message : "Bienvenue Dr. Doctor !"
- âœ… "Espace MÃ©decin"
- âœ… Bouton "Se dÃ©connecter"

  ---
  Ã‰tape 5 : Test 3 - ADMIN

  1. Clique "Se dÃ©connecter"
  2. Login avec :
  Email: <admin@email.com>
  Password: [ton mot de passe]

  RÃ©sultat attendu :

- âœ… DashboardAdminActivity s'affiche
- âœ… Message : "Admin Dashboard"
- âœ… "Oussama Admin"
- âœ… Bouton "Se dÃ©connecter"

  ---
  Ã‰tape 6 : Test 4 - Token persistant (BONUS)

  1. Connecte-toi avec n'importe quel rÃ´le
  2. Ferme COMPLÃˆTEMENT l'app (swipe depuis recent apps)
  3. Rouvre l'app

  RÃ©sultat attendu :

- âœ… SplashActivity (2 secondes)
- âœ… Validation token (200 OK)
- âœ… Redirection automatique vers le bon Ã©cran (pas de LoginActivity !)

  ---

ğŸ“Š CE QU'ON VALIDE AVEC CES TESTS
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚             FonctionnalitÃ©              â”‚                 Test                  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Authentification JWT                    â”‚ âœ… Login 3 rÃ´les                      â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Redirection selon rÃ´le (LoginActivity)  â”‚ âœ… Patient/Doctor/Admin â†’ Bons Ã©crans â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Redirection selon rÃ´le (SplashActivity) â”‚ âœ… Rouvrir app â†’ Bon Ã©cran            â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ HomePatientActivity                     â”‚ âœ… Affichage correct                  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ HomeDoctorActivity                      â”‚ âœ… Affichage correct                  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ DashboardAdminActivity                  â”‚ âœ… Affichage correct                  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ DÃ©connexion                             â”‚ âœ… Clear token + LoginActivity        â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Token persistant                        â”‚ âœ… Pas besoin de re-login             â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ---

  ğŸš€ APRÃˆS LES TESTS

  Si tout fonctionne :

  A. Commit et push backend
  B. Commit et push Android
  C. CrÃ©er document AVANCEMENT pour le prof
  D. (Optionnel) Continuer avec Liste MÃ©decins (Session 2)

  ---
  â“ QUESTION

  Lance les tests maintenant et dis-moi :

  A. âœ… Tout fonctionne parfaitement (screenshots si tu veux)

  B. âŒ ProblÃ¨me : [dÃ©cris l'erreur]

  C. â¸ï¸ Je teste plus tard, on commit d'abord

  Dis-moi ! ğŸ¯
