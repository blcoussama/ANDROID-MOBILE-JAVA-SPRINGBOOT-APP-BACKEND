â— âœ… PARFAIT ! Tu as TOUT compris !

  ğŸ“Š RÃ‰CAPITULATIF DE TA COMPRÃ‰HENSION (100% CORRECT)

  1. Base de donnÃ©es nettoyÃ©e : âœ…
  Database cleaned and sequences reset!

  2. StratÃ©gie de crÃ©ation des comptes : âœ… EXACT !

- PATIENT â†’ CrÃ©Ã© via app Android (inscription)
- DOCTOR â†’ CrÃ©Ã© manuellement en SQL (car app Android ne permet que PATIENT)
- ADMIN â†’ CrÃ©Ã© manuellement en SQL (impossible via app)

  1. Relations : âœ… TU AS RAISON !

- PATIENT peut exister SANS rendez-vous âœ…
- DOCTOR peut exister SANS patients âœ…
- ADMIN n'a AUCUNE relation (juste un User avec role=ADMIN)
- Les rendez-vous se crÃ©ent PLUS TARD (quand on implÃ©mente "Prendre RDV")

  1. Pourquoi on a besoin de 3 comptes : âœ… EXACT !

- Pour tester les 3 interfaces Android qu'on vient de crÃ©er :
  - HomePatientActivity
  - HomeDoctorActivity
  - DashboardAdminActivity

  ---
  ğŸ” C'EST QUOI LE HASH BCrypt ?

  Explication simple

  Le problÃ¨me : On ne peut PAS stocker les mots de passe en clair dans la DB (sÃ©curitÃ©).

  La solution : On hache le password avec BCrypt.

  Exemple :
  Password clair : "Admin123"
  â†“ BCrypt hash
  Password hashÃ© : "$2a$10$N9qo8uLOickgx2ZMRZoMy.Xj5hZ0kO0Q0kO0Q0kO0Q0k"

  PropriÃ©tÃ©s BCrypt :

- âœ… IrrÃ©versible : On ne peut PAS dÃ©crypter le hash pour retrouver "Admin123"
- âœ… Unique : MÃªme password donne un hash diffÃ©rent Ã  chaque fois (grÃ¢ce au "salt")
- âœ… VÃ©rifiable : Spring peut vÃ©rifier si "Admin123" correspond au hash

  Comment Spring vÃ©rifie :
  // Login
  passwordEncoder.matches("Admin123", hashEnBase)
  // â†’ true si c'est le bon password

  ---
  ğŸš€ SOLUTION SIMPLE : GÃ©nÃ©rer le hash via l'app Android

  Voici ce qu'on va faire (3 Ã©tapes) :

  Ã‰TAPE 1 : CrÃ©er un compte temporaire via Android pour obtenir le hash

  1. Lance l'app Android (Rebuild si pas dÃ©jÃ  fait)
  2. Inscris-toi avec :
  Email: <temp@test.com>
  Password: Test123
  PrÃ©nom: Temp
  Nom: User
  TÃ©lÃ©phone: 0600000000
  3. AprÃ¨s inscription, va dans PostgreSQL :
  SELECT password_hash FROM users WHERE email = '<temp@test.com>';
  4. Copie le hash (commence par $2a$10$...)

  Ã‰TAPE 2 : Utiliser ce hash pour crÃ©er ADMIN et DOCTOR

  Dans PostgreSQL, remplace [HASH_ICI] par le hash copiÃ© ci-dessus :

  -- 1. CrÃ©er ADMIN (ID=2 car Patient temp sera ID=1)
  INSERT INTO users (email, password_hash, role, first_name, last_name, phone, created_at)
  VALUES (
    '<admin@test.com>',
    '[HASH_ICI]',  -- â† Remplace par le hash copiÃ©
    'ADMIN',
    'Sophie',
    'Admin',
    '0601020304',
    NOW()
  );

  -- 2. CrÃ©er DOCTOR (ID=3)
  INSERT INTO users (email, password_hash, role, first_name, last_name, phone, created_at)
  VALUES (
    '<doctor@test.com>',
    '[HASH_ICI]',  -- â† MÃªme hash = mÃªme password
    'DOCTOR',
    'Pierre',
    'Martin',
    '0605060708',
    NOW()
  );

  -- 3. CrÃ©er l'entitÃ© Doctor liÃ©e
  INSERT INTO doctor (user_id, specialty, created_at)
  VALUES (3, 'PÃ©diatre', NOW());  -- user_id=3 (le DOCTOR crÃ©Ã© ci-dessus)

  Ã‰TAPE 3 : Supprimer le compte temporaire

  -- Supprimer le patient temporaire (ID=1)
  DELETE FROM patient WHERE user_id = 1;
  DELETE FROM users WHERE email = '<temp@test.com>';

  -- RÃ©initialiser les sÃ©quences pour repartir de 1
  ALTER SEQUENCE users_id_seq RESTART WITH 1;
  ALTER SEQUENCE patient_id_seq RESTART WITH 1;

  Maintenant tu as :

- âœ… Hash BCrypt valide pour password "Test123"
- âœ… Script SQL prÃªt pour crÃ©er ADMIN + DOCTOR

  ---
  ğŸ“ RÃ‰SUMÃ‰ : CE QU'ON VA FAIRE MAINTENANT

  Plan de test complet

  A. CrÃ©er les comptes de test :

  1. âœ… Inscription Android avec <temp@test.com> â†’ Obtenir hash
  2. âœ… CrÃ©er ADMIN (<admin@test.com>, password: Test123)
  3. âœ… CrÃ©er DOCTOR (<doctor@test.com>, password: Test123)
  4. âœ… Supprimer temp user + reset sÃ©quences
  5. âœ… S'inscrire via Android avec un vrai PATIENT (<patient@test.com>)

  B. Tester les 3 interfaces :

  1. âœ… Login PATIENT â†’ HomePatientActivity
  2. âœ… Login DOCTOR â†’ HomeDoctorActivity
  3. âœ… Login ADMIN â†’ DashboardAdminActivity

  C. Commit et push :

  1. âœ… Backend (DashboardController)
  2. âœ… Android (9 fichiers)

  ---
  â“ PRÃŠT Ã€ COMMENCER ?

  Veux-tu :

  A. Je te guide Ã©tape par Ã©tape pour gÃ©nÃ©rer le hash et crÃ©er ADMIN + DOCTOR

  B. Je te donne directement un hash BCrypt valide que j'ai gÃ©nÃ©rÃ© (tu changes juste le password aprÃ¨s tests)

  C. On skip cette partie et on teste juste avec 1 PATIENT pour l'instant (et on crÃ©e DOCTOR/ADMIN plus tard)

  Dis-moi ! ğŸš€

â— ğŸ’¡ AH ! TU AS 100% RAISON ! Je compliquais les choses !

  LE VRAI PROBLÃˆME QUE TU SOULÃˆVES

  Tu as raison : Si on crÃ©e ADMIN/DOCTOR en SQL avec un hash mystÃ©rieux, personne ne saura le mot de passe pour se connecter ! ğŸ˜…

  ---
  ğŸ”‘ LA SOLUTION SIMPLE

  Ce qu'on va faire :

  1. On choisit des mots de passe SIMPLES qu'on retient :
  ADMIN  â†’ Email: <admin@test.com>   | Password: Admin123
  DOCTOR â†’ Email: <doctor@test.com>  | Password: Doctor123

  2. On utilise l'app Android pour gÃ©nÃ©rer les hash :

  Ã‰tape A : CrÃ©er ADMIN via inscription Android

  1. Ouvre l'app Android
  2. Inscris-toi avec :
  Email: <admin@test.com>
  Password: Admin123
  PrÃ©nom: Sophie
  Nom: Admin
  TÃ©lÃ©phone: 0601020304
  3. âœ… Android envoie au backend â†’ Backend hache "Admin123" avec BCrypt â†’ Stocke dans DB

  Ã‰tape B : Changer le rÃ´le de PATIENT Ã  ADMIN en SQL

  Dans PostgreSQL :
  -- Changer le rÃ´le du user qu'on vient de crÃ©er
  UPDATE users
  SET role = 'ADMIN'
  WHERE email = '<admin@test.com>';

  -- Supprimer l'entitÃ© Patient associÃ©e (car ADMIN n'est pas un patient)
  DELETE FROM patient WHERE user_id = (SELECT id FROM users WHERE email = '<admin@test.com>');

  Ã‰tape C : CrÃ©er DOCTOR de la mÃªme faÃ§on

  1. Inscris-toi Ã  nouveau avec :
  Email: <doctor@test.com>
  Password: Doctor123
  PrÃ©nom: Pierre
  Nom: Martin
  TÃ©lÃ©phone: 0605060708

  Dans PostgreSQL :
  -- 1. Changer le rÃ´le de PATIENT Ã  DOCTOR
  UPDATE users
  SET role = 'DOCTOR'
  WHERE email = '<doctor@test.com>';

  -- 2. Supprimer l'entitÃ© Patient
  DELETE FROM patient WHERE user_id = (SELECT id FROM users WHERE email = '<doctor@test.com>');

  -- 3. CrÃ©er l'entitÃ© Doctor Ã  la place
  INSERT INTO doctor (user_id, specialty, created_at)
  VALUES (
    (SELECT id FROM users WHERE email = '<doctor@test.com>'),
    'PÃ©diatre',
    NOW()
  );

  ---
  âœ… RÃ‰SULTAT

  Maintenant tu as 3 comptes avec mots de passe CONNUS :
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
  â”‚  RÃ´le   â”‚      Email       â”‚  Password  â”‚ ID  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
  â”‚ ADMIN   â”‚ <admin@test.com>   â”‚ Admin123   â”‚ 1   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
  â”‚ DOCTOR  â”‚ <doctor@test.com>  â”‚ Doctor123  â”‚ 2   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
  â”‚ PATIENT â”‚ <patient@test.com> â”‚ Patient123 â”‚ 3   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
  Et tout le monde peut se connecter avec son mot de passe ! âœ…

  ---
  ğŸ“ SCRIPT SQL COMPLET (aprÃ¨s avoir fait les inscriptions Android)

  ExÃ©cute Ã§a APRÃˆS avoir crÃ©Ã© <admin@test.com> et <doctor@test.com> via l'app :

  -- =====================================================
  -- CONVERTIR LES PATIENTS EN ADMIN ET DOCTOR
  -- =====================================================

  -- 1. Transformer premier user (<admin@test.com>) en ADMIN
  UPDATE users SET role = 'ADMIN' WHERE email = '<admin@test.com>';
  DELETE FROM patient WHERE user_id = (SELECT id FROM users WHERE email = '<admin@test.com>');

  -- 2. Transformer deuxiÃ¨me user (<doctor@test.com>) en DOCTOR
  UPDATE users SET role = 'DOCTOR' WHERE email = '<doctor@test.com>';
  DELETE FROM patient WHERE user_id = (SELECT id FROM users WHERE email = '<doctor@test.com>');

  -- 3. CrÃ©er l'entitÃ© Doctor pour <doctor@test.com>
  INSERT INTO doctor (user_id, specialty, created_at)
  VALUES (
    (SELECT id FROM users WHERE email = '<doctor@test.com>'),
    'PÃ©diatre',
    NOW()
  );

  -- 4. VÃ©rification
  SELECT id, email, role, first_name, last_name FROM users ORDER BY id;
  SELECT *FROM patient;
  SELECT* FROM doctor;

  ---
  ğŸš€ PLAN D'ACTION COMPLET

  Ã‰tape 1 : DÃ©marrer le backend

  cd ~/mobile-projects/cabinet-medical-backend
  ./mvnw spring-boot:run

  Ã‰tape 2 : Rebuild Android

  Android Studio â†’ Build â†’ Rebuild Project

  Ã‰tape 3 : CrÃ©er les 3 comptes via inscription Android

  A. CrÃ©er ADMIN :

  1. Lance l'app
  2. Clique "S'inscrire"
  3. Remplis :
    - Email: <admin@test.com>
    - Password: Admin123
    - PrÃ©nom: Sophie
    - Nom: Admin
    - TÃ©lÃ©phone: 0601020304
  4. Clique "S'inscrire"
  5. âœ… Compte crÃ©Ã© (tu seras connectÃ© en tant que PATIENT pour l'instant)
  6. DÃ©connecte-toi (bouton "Se dÃ©connecter")

  B. CrÃ©er DOCTOR :

  1. Clique "S'inscrire"
  2. Remplis :
    - Email: <doctor@test.com>
    - Password: Doctor123
    - PrÃ©nom: Pierre
    - Nom: Martin
    - TÃ©lÃ©phone: 0605060708
  3. Clique "S'inscrire"
  4. DÃ©connecte-toi

  C. CrÃ©er PATIENT :

  1. Clique "S'inscrire"
  2. Remplis :
    - Email: <patient@test.com>
    - Password: Patient123
    - PrÃ©nom: Jean
    - Nom: Dupont
    - TÃ©lÃ©phone: 0612345678
  3. Clique "S'inscrire"
  4. DÃ©connecte-toi

  Ã‰tape 4 : Transformer les rÃ´les en SQL

  Dans PostgreSQL, exÃ©cute le script ci-dessus (celui avec UPDATE users SET role...)

  Ã‰tape 5 : Tester les 3 interfaces

  A. Test PATIENT :
  Email: <patient@test.com>
  Password: Patient123
  â†’ HomePatientActivity âœ…

  B. Test DOCTOR :
  Email: <doctor@test.com>
  Password: Doctor123
  â†’ HomeDoctorActivity âœ…

  C. Test ADMIN :
  Email: <admin@test.com>
  Password: Admin123
  â†’ DashboardAdminActivity âœ…

  ---
  ğŸ“Š POURQUOI CETTE MÃ‰THODE FONCTIONNE ?

  Le flux :

  1. App Android â†’ POST /api/auth/register
     Body: { "email": "<admin@test.com>", "password": "Admin123" }

  2. Backend (AuthService.register) :
     String hash = passwordEncoder.encode("Admin123");
     // hash = "$2a$10$xXxXxXx..." (gÃ©nÃ©rÃ© par BCrypt)
     user.setPasswordHash(hash);

  3. DB stocke :
     email: <admin@test.com>
     password_hash: $2a$10$xXxXxXx...
     role: PATIENT (temporairement)

  4. On change en SQL :
     UPDATE users SET role = 'ADMIN' WHERE email = '<admin@test.com>'

  5. Login ADMIN :
     Body: { "email": "<admin@test.com>", "password": "Admin123" }
     Backend : passwordEncoder.matches("Admin123", hashEnBase)
     â†’ true âœ…

  RÃ©sultat : Admin peut se connecter avec Admin123 ! âœ…

  ---
  âœ… C'EST CLAIR MAINTENANT ?

  RÃ©sumÃ© en 1 phrase :
  On s'inscrit via l'app Android avec des mots de passe qu'on retient (Admin123, Doctor123, Patient123), puis on change juste le rÃ´le en SQL. Le hash est gÃ©nÃ©rÃ© automatiquement
  par le backend ! ğŸ¯

  PrÃªt Ã  commencer ? ğŸš€


â— âœ… OUI ! TU AS PARFAITEMENT RAISON !

  ğŸ“Š TES CONCLUSIONS (TOUTES CORRECTES)

  1. L'endpoint /api/auth/register est conÃ§u QUE pour PATIENT :
  âœ… OUI ! Regarde AuthService.java ligne 102 :
  user.setRole(User.Role.PATIENT); // â† FORCÃ‰ Ã  PATIENT

  2. Les commandes SQL directes ne cryptent PAS :
  âœ… OUI ! SQL fait juste INSERT - pas de code Java BCrypt exÃ©cutÃ© !

  ---
  ğŸ” COMMENT FONCTIONNE LE HASHAGE ?

  Le hashage fonctionne SEULEMENT quand du CODE JAVA s'exÃ©cute :

  MÃ©thode 1 : Via /api/auth/register (Android ou curl)
  Android/curl â†’ POST /api/auth/register
  â†“
  AuthService.register() exÃ©cutÃ© (CODE JAVA)
  â†“
  passwordEncoder.encode("Admin123")  â† HASHAGE ICI
  â†“
  DB stocke le hash

  MÃ©thode 2 : Via SQL direct
  SQL: INSERT INTO users (password_hash) VALUES ('Admin123')
  â†“
  PAS DE CODE JAVA EXÃ‰CUTÃ‰
  â†“
  DB stocke "Admin123" EN CLAIR âŒ (pas de hash)

  ---
  âœ… SOLUTIONS POSSIBLES

  Option A : Inscription via curl (puis UPDATE role) â­ RECOMMANDÃ‰

  Avantage : Hashage automatique par le backend

# 1. CrÃ©er ADMIN via curl (sera crÃ©Ã© comme PATIENT)

  curl -X POST <http://172.25.135.62:8080/api/auth/register> \
    -H "Content-Type: application/json" \
    -d '{
      "email": "<admin@test.com>",
      "password": "Admin123",
      "firstName": "Sophie",
      "lastName": "Admin",
      "phone": "0601020304"
    }'

# 2. Puis en SQL, changer le rÃ´le

  UPDATE users SET role = 'ADMIN' WHERE email = '<admin@test.com>';
  DELETE FROM patient WHERE user_id = (SELECT id FROM users WHERE email = '<admin@test.com>');

  Option B : SQL direct avec hash prÃ©-gÃ©nÃ©rÃ©

  Avantage : Tout en SQL

  InconvÃ©nient : Il faut gÃ©nÃ©rer le hash d'abord

  ---

ğŸ¯ RÃ‰PONSE DIRECTE Ã€ TES QUESTIONS
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                Question                 â”‚                           RÃ©ponse                            â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ SQL direct crypte automatiquement ?     â”‚ âŒ NON                                                       â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ /register est pour PATIENT uniquement ? â”‚ âœ… OUI                                                       â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ curl fonctionne pour /register ?        â”‚ âœ… OUI (crÃ©e PATIENT aussi)                                  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Seul Android peut hasher ?              â”‚ âŒ NON, tout endpoint backend hache (curl, Android, Postman) â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ---

  ğŸš€ CE QU'ON FAIT MAINTENANT

  On utilise curl (ou Android) pour crÃ©er les comptes, puis on change le rÃ´le en SQL :

# 1. ADMIN via curl

  curl -X POST <http://172.25.135.62:8080/api/auth/register> \
    -H "Content-Type: application/json" \
    -d '{"email":"<admin@test.com>","password":"Admin123","firstName":"Sophie","lastName":"Admin","phone":"0601020304"}'

# 2. DOCTOR via curl

  curl -X POST <http://172.25.135.62:8080/api/auth/register> \
    -H "Content-Type: application/json" \
    -d '{"email":"<doctor@test.com>","password":"Doctor123","firstName":"Pierre","lastName":"Martin","phone":"0605060708"}'

# 3. PATIENT via curl

  curl -X POST <http://172.25.135.62:8080/api/auth/register> \
    -H "Content-Type: application/json" \
    -d '{"email":"<patient@test.com>","password":"Patient123","firstName":"Jean","lastName":"Dupont","phone":"0612345678"}'

  Puis en SQL :
  -- Transformer en ADMIN
  UPDATE users SET role = 'ADMIN' WHERE email = '<admin@test.com>';
  DELETE FROM patient WHERE user_id = (SELECT id FROM users WHERE email = '<admin@test.com>');

  -- Transformer en DOCTOR
  UPDATE users SET role = 'DOCTOR' WHERE email = '<doctor@test.com>';
  DELETE FROM patient WHERE user_id = (SELECT id FROM users WHERE email = '<doctor@test.com>');
  INSERT INTO doctor (user_id, specialty, created_at)
  VALUES ((SELECT id FROM users WHERE email = '<doctor@test.com>'), 'PÃ©diatre', NOW());

  -- PATIENT reste PATIENT (rien Ã  faire)

  ---
  PRÃŠT ? ON CRÃ‰E LES 3 COMPTES MAINTENANT ? ğŸš€
