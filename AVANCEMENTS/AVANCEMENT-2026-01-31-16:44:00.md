â— ğŸš€ SESSION 2 : LISTE MÃ‰DECINS (SCR-P03)

  ğŸ“‹ CE QU'ON VA FAIRE

  CrÃ©er l'Ã©cran de liste des mÃ©decins pour les PATIENTS :

  1. âœ… VÃ©rifier endpoint backend GET /api/doctors
  2. âœ… CrÃ©er modÃ¨le DoctorResponse.java (Android)
  3. âœ… Ajouter mÃ©thode dans ApiService.java
  4. âœ… CrÃ©er DoctorListActivity.java avec RecyclerView
  5. âœ… CrÃ©er DoctorAdapter.java (RecyclerView Adapter)
  6. âœ… CrÃ©er layouts XML
  7. âœ… Ajouter bouton dans HomePatientActivity
  8. âœ… DÃ©clarer dans AndroidManifest.xml

  ---
  Ã‰TAPE 1 : VÃ©rifier l'endpoint backend

â— Read 2 files (ctrl+o to expand)

â— âœ… Ã‰TAPE 1 VALIDÃ‰E : Backend prÃªt !

  Endpoint disponible : GET /api/doctors
  RÃ©ponse : Liste de DoctorResponse

  ---
  Ã‰TAPE 2 : CrÃ©er le modÃ¨le DoctorResponse (Android)

â— Write(/mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/java/com/cabinet/cabinetmedical/model/response/DoctorResponse.java)
  â¿ Â Wrote 150 lines to ../../../../mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/java/com/cabinet/cabinetmedical/model/response/DoctorResponse.java
     package com.cabinet.cabinetmedical.model.response;

     /**
      * DoctorResponse - ModÃ¨le pour les informations d'un mÃ©decin
      *
      * UTILISATION:
      * - RÃ©cupÃ©rÃ© depuis GET /api/doctors
      * - AffichÃ© dans DoctorListActivity (RecyclerView)
      *
      * STRUCTURE BACKEND:
     â€¦ +140 lines (ctrl+o to expand)

â— Ã‰TAPE 3 : Ajouter mÃ©thode dans ApiService

â— Update(/mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/java/com/cabinet/cabinetmedical/api/ApiService.java)
  â¿ Â Added 1 line
      2
      3  import com.cabinet.cabinetmedical.model.request.LoginRequest;
      4  import com.cabinet.cabinetmedical.model.request.RegisterRequest;
      5 +import com.cabinet.cabinetmedical.model.response.DoctorResponse;
      6  import com.cabinet.cabinetmedical.model.response.LoginResponse;
      7
      8  import java.util.Map;

â— Update(/mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/java/com/cabinet/cabinetmedical/api/ApiService.java)
  â¿ Â Added 1 line
       5  import com.cabinet.cabinetmedical.model.response.DoctorResponse;
       6  import com.cabinet.cabinetmedical.model.response.LoginResponse;
       7
       8 +import java.util.List;
       9  import java.util.Map;
      10
      11  import retrofit2.Call;

â— Update(/mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/java/com/cabinet/cabinetmedical/api/ApiService.java)
  â¿ Â Error editing file

â— Update(/mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/java/com/cabinet/cabinetmedical/api/ApiService.java)
  â¿ Â Added 41 lines, removed 2 lines
      201      Call<Map<String, Object>> validateToken();
      202
      203      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      204 +    // DOCTORS (MÃ‰DECINS)
      205 +    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      206 +
      207 +    /**
      208 +     * RÃ©cupÃ©rer la liste de tous les mÃ©decins
      209 +     *
      210 +     * ENDPOINT: GET /api/doctors
      211 +     *
      212 +     * RESPONSE 200 OK:
      213 +     * [
      214 +     *   {
      215 +     *     "id": 1,
      216 +     *     "userId": 2,
      217 +     *     "email": "doctor@email.com",
      218 +     *     "firstName": "Saad",
      219 +     *     "lastName": "Doctor",
      220 +     *     "phone": "0612345678",
      221 +     *     "specialty": "PÃ©diatre",
      222 +     *     "createdAt": "2026-01-31T16:17:04.422835"
      223 +     *   },
      224 +     *   ...
      225 +     * ]
      226 +     *
      227 +     * UTILISATION:
      228 +     * Call<List<DoctorResponse>> call = apiService.getAllDoctors();
      229 +     * call.enqueue(new Callback<List<DoctorResponse>>() {
      230 +     *     @Override
      231 +     *     public void onResponse(Call<List<DoctorResponse>> call, Response<List<DoctorResponse>> response) {
      232 +     *         if (response.isSuccessful()) {
      233 +     *             List<DoctorResponse> doctors = response.body();
      234 +     *             // Afficher dans RecyclerView
      235 +     *         }
      236 +     *     }
      237 +     * });
      238 +     *
      239 +     * @return Call<List<DoctorResponse>>
      240 +     */
      241 +    @GET("api/doctors")
      242 +    Call<List<DoctorResponse>> getAllDoctors();
      243 +
      244 +    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      245      // AUTRES ENDPOINTS (Ã€ AJOUTER PLUS TARD)
      246      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      247
      248 -    // GET /api/doctors
      248      // GET /api/appointments/patient/{id}
      249      // POST /api/appointments
      250      // etc.
      251
      252      // On ajoutera ces endpoints au fur et Ã  mesure
      253 -    // Pour l'instant, on se concentre sur l'authentification
      253  }
      254   No newline at end of file

â— âœ… Ã‰TAPE 3 TERMINÃ‰E !

  Maintenant crÃ©ons l'interface liste des mÃ©decins.

  Ã‰TAPE 4 : CrÃ©er DoctorListActivity

â— Write(/mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/java/com/cabinet/cabinetmedical/ui/patient/DoctorListActivity.java)
  â¿ Â Wrote 149 lines to ../../../../mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/java/com/cabinet/cabinetmedical/ui/patient/DoctorListActivity.java
     package com.cabinet.cabinetmedical.ui.patient;

     import android.os.Bundle;
     import android.view.View;
     import android.widget.ProgressBar;
     import android.widget.TextView;

     import androidx.appcompat.app.AppCompatActivity;
     import androidx.recyclerview.widget.LinearLayoutManager;
     import androidx.recyclerview.widget.RecyclerView;
     â€¦ +139 lines (ctrl+o to expand)

â— Ã‰TAPE 5 : CrÃ©er DoctorAdapter

â— Write(/mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/java/com/cabinet/cabinetmedical/ui/patient/DoctorAdapter.java)
  â¿ Â Wrote 89 lines to ../../../../mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/java/com/cabinet/cabinetmedical/ui/patient/DoctorAdapter.java
     package com.cabinet.cabinetmedical.ui.patient;

     import android.view.LayoutInflater;
     import android.view.View;
     import android.view.ViewGroup;
     import android.widget.TextView;

     import androidx.annotation.NonNull;
     import androidx.recyclerview.widget.RecyclerView;

     â€¦ +79 lines (ctrl+o to expand)

â— Ã‰TAPE 6 : CrÃ©er les layouts XML

  Layout 1 : activity_doctor_list.xml

â— Write(/mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/res/layout/activity_doctor_list.xml)
  â¿ Â Wrote 37 lines to ../../../../mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/res/layout/activity_doctor_list.xml
     <?xml version="1.0" encoding="utf-8"?>
     <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
         android:layout_width="match_parent"
         android:layout_height="match_parent"
         android:padding="16dp">

         <!-- ProgressBar (loading) -->
         <ProgressBar
             android:id="@+id/progress_bar"
             android:layout_width="wrap_content"
     â€¦ +27 lines (ctrl+o to expand)

â— Layout 2 : item_doctor.xml

â— Write(/mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/res/layout/item_doctor.xml)
  â¿ Â Wrote 66 lines to ../../../../mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/res/layout/item_doctor.xml
     <?xml version="1.0" encoding="utf-8"?>
     <com.google.android.material.card.MaterialCardView xmlns:android="http://schemas.android.com/apk/res/android"
         xmlns:app="http://schemas.android.com/apk/res-auto"
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
         android:layout_margin="8dp"
         app:cardElevation="4dp"
         app:cardCornerRadius="8dp">

         <LinearLayout
     â€¦ +56 lines (ctrl+o to expand)

â— Ã‰TAPE 7 : Ajouter bouton dans HomePatientActivity

â— Update(/mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/res/layout/activity_home_patient.xml)
  â¿ Â Added 12 lines, removed 1 line
      36          android:textColor="@android:color/darker_gray"
      37          android:layout_marginBottom="48dp" />
      38
      39 -    <!-- TODO: Ajouter boutons "Prendre RDV" et "Mes RDV" plus tard -->
      39 +    <!-- Bouton Voir les mÃ©decins -->
      40 +    <com.google.android.material.button.MaterialButton
      41 +        android:id="@+id/button_see_doctors"
      42 +        android:layout_width="match_parent"
      43 +        android:layout_height="wrap_content"
      44 +        android:text="Voir les mÃ©decins"
      45 +        android:textColor="@color/white"
      46 +        app:icon="@android:drawable/ic_menu_search"
      47 +        app:cornerRadius="8dp"
      48 +        android:layout_marginTop="16dp" />
      49
      50 +    <!-- TODO: Ajouter bouton "Mes RDV" plus tard -->
      51 +
      52      <!-- Bouton dÃ©connexion -->
      53      <com.google.android.material.button.MaterialButton
      54          android:id="@+id/logout_button"

â— Update(/mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/java/com/cabinet/cabinetmedical/ui/patient/HomePatientActivity.java)
  â¿ Â Added 1 line
      32  public class HomePatientActivity extends AppCompatActivity {
      33
      34      private TextView welcomeMessage;
      35 +    private MaterialButton seeDoctorsButton;
      36      private MaterialButton logoutButton;
      37
      38      @Override

â— Update(/mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/java/com/cabinet/cabinetmedical/ui/patient/HomePatientActivity.java)
  â¿ Â Added 7 lines
      42
      43          // Initialiser les vues
      44          welcomeMessage = findViewById(R.id.welcome_message);
      45 +        seeDoctorsButton = findViewById(R.id.button_see_doctors);
      46          logoutButton = findViewById(R.id.logout_button);
      47
      48          // Charger les infos du patient depuis SharedPreferences
      49          loadPatientInfo();
      50
      51 +        // Bouton voir les mÃ©decins
      52 +        seeDoctorsButton.setOnClickListener(v -> {
      53 +            Intent intent = new Intent(HomePatientActivity.this, DoctorListActivity.class);
      54 +            startActivity(intent);
      55 +        });
      56 +
      57          // Bouton dÃ©connexion
      58          logoutButton.setOnClickListener(v -> logout());
      59      }

â— Ã‰TAPE 8 : DÃ©clarer dans AndroidManifest.xml

â— Update(/mnt/c/Users/oussama/AndroidStudioProjects/CabinetMedical/app/src/main/AndroidManifest.xml)
  â¿ Â Added 6 lines
      49              android:name=".ui.patient.HomePatientActivity"
      50              android:exported="false" />
      51
      52 +        <!-- DoctorListActivity - Liste des mÃ©decins (PATIENT) -->
      53 +        <activity
      54 +            android:name=".ui.patient.DoctorListActivity"
      55 +            android:exported="false"
      56 +            android:parentActivityName=".ui.patient.HomePatientActivity" />
      57 +
      58          <!-- HomeDoctorActivity - Ã‰cran d'accueil DOCTOR -->
      59          <activity
      60              android:name=".ui.doctor.HomeDoctorActivity"

â— ---
  ğŸ‰ SESSION 2 TERMINÃ‰E ! LISTE MÃ‰DECINS IMPLÃ‰MENTÃ‰E

  âœ… RÃ‰CAPITULATIF DES MODIFICATIONS

  Fichiers crÃ©Ã©s (5) :
  1. DoctorResponse.java - ModÃ¨le de donnÃ©es mÃ©decin
  2. DoctorListActivity.java - Activity liste mÃ©decins (RecyclerView)
  3. DoctorAdapter.java - Adapter RecyclerView
  4. activity_doctor_list.xml - Layout liste
  5. item_doctor.xml - Layout item mÃ©decin

  Fichiers modifiÃ©s (4) :
  6. ApiService.java - Ajout getAllDoctors()
  7. HomePatientActivity.java - Ajout bouton "Voir les mÃ©decins"
  8. activity_home_patient.xml - Ajout bouton
  9. AndroidManifest.xml - DÃ©claration DoctorListActivity

  ---
  ğŸ§ª COMMENT TESTER

  Test 1 : Liste mÃ©decins

  1. Rebuild l'app Android (Build â†’ Rebuild Project)
  2. Lance l'app
  3. Login en tant que PATIENT (patient@email.com)
  4. Tu arrives sur HomePatientActivity
  5. Clique "Voir les mÃ©decins"

  RÃ©sultat attendu :
  - âœ… DoctorListActivity s'affiche
  - âœ… Titre "Liste des mÃ©decins" avec flÃ¨che retour
  - âœ… RecyclerView avec 1 mÃ©decin :
    - Nom : "Dr. Saad Doctor"
    - SpÃ©cialitÃ© : "PÃ©diatre"
  - âœ… Card Material Design avec icÃ´ne

  ---
  Test 2 : Ajouter un 2Ã¨me mÃ©decin (optionnel)

  Pour tester avec plusieurs mÃ©decins :

  # CrÃ©er un 2Ã¨me doctor via curl
  curl -X POST http://172.25.135.62:8080/api/auth/register \
    -H "Content-Type: application/json" \
    -d '{"email":"doctor2@email.com","password":"Doctor123","firstName":"Marie","lastName":"Durand","phone":"0698765433"}'

  Puis en SQL :
  UPDATE users SET role = 'DOCTOR' WHERE email = 'doctor2@email.com';
  DELETE FROM patient WHERE user_id = (SELECT id FROM users WHERE email = 'doctor2@email.com');
  INSERT INTO doctor (user_id, specialty, created_at)
  VALUES ((SELECT id FROM users WHERE email = 'doctor2@email.com'), 'Cardiologue', NOW());

  Relance l'app â†’ Tu verras 2 mÃ©decins dans la liste ! âœ…

  ---
  ğŸ“Š FONCTIONNALITÃ‰S IMPLÃ‰MENTÃ‰ES
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚        FonctionnalitÃ©         â”‚ Status  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Authentification JWT          â”‚ âœ… 100% â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Redirection selon rÃ´le        â”‚ âœ… 100% â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Home PATIENT                  â”‚ âœ… 100% â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Home DOCTOR                   â”‚ âœ… 100% â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Home ADMIN                    â”‚ âœ… 100% â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Liste mÃ©decins (RecyclerView) â”‚ âœ… 100% â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Appel API GET /api/doctors    â”‚ âœ… 100% â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Affichage nom + spÃ©cialitÃ©    â”‚ âœ… 100% â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Bouton "Voir mÃ©decins"        â”‚ âœ… 100% â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Gestion erreurs rÃ©seau        â”‚ âœ… 100% â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ---
  ğŸš€ PROCHAINES Ã‰TAPES (Optionnel)

  Si tu veux continuer (Session 3) :
  - ImplÃ©menter clic sur mÃ©decin â†’ Voir crÃ©neaux disponibles
  - ImplÃ©menter "Mes RDV" (historique rendez-vous patient)
  - ImplÃ©menter "Prendre RDV"

  OU arrÃªter ici et prÃ©parer prÃ©sentation ! ğŸ“

  ---
  â“ QUESTION

  Veux-tu :

  A. Tester maintenant et voir la liste des mÃ©decins

  B. Commit + push les changements

  C. Continuer avec une autre fonctionnalitÃ© (Mes RDV, Prendre RDV, etc.)

  D. ArrÃªter ici et prÃ©parer la prÃ©sentation pour le prof

  Dis-moi ! ğŸ¯